<!doctype html>
<html>
    <meta charset="utf-8">
    <title>perunApp</title>

    <link href="./styles/main.css" rel="stylesheet" type="text/css">

    <!-- Scripts giving you few extra things in NW.js -->
    <script src="vendor/nw-boilerplate/window_state.js"></script>
    <script src="vendor/nw-boilerplate/context_menu.js"></script>
    <script src="vendor/nw-boilerplate/external_links.js"></script>
    <script src="vendor/nw-boilerplate/dev_helper.js"></script>
    <script src="vendor/nw-boilerplate/env_config.js"></script>
    <script>
        (function () {
            var gui = require("nw.gui");
            var win = gui.Window.get();

            // Create default menu items for OSX
            if (process.platform === "darwin") {
                var mb = new gui.Menu({ type: "menubar" });
                mb.createMacBuiltin(gui.App.manifest.productName);
                win.menu = mb;
            }
        }());
    </script>
    <script>
        var $ = require("jquery");
        $(document).ready(function(){
            var requirejs = require("requirejs");
            var viewName = $("#main-container").data("view");

            requirejs.config({
                baseUrl: "lib/",
                nodeRequire: require,
                paths: {
                    "events": "events",
                    "api": "api",
                    "model": "model",
                    "net": "net",
                    "vm": "ui/vm",
                    "views": "ui/views",
                    "templates": "ui/views/templates"
                }
            });

            requirejs(["require","views/"+viewName,"events/viewEvent","events/dispatchManager","api/fileManager","app"], function(require,
                                                                       viewEvent,dispatchManager,fileManager,view, app){
                view.prototype.init({
                    viewName: viewName
                });
            });
        });
    </script>
</head>
<body>
    <div id="main-container" data-view="MainView"></div>
</body>
</html>
